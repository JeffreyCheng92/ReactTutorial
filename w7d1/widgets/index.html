<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="https://fb.me/react-0.13.3.js"></script>
    <script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
    <title></title>
  </head>
  <body>
    <div id="autocomplete">

    </div>

    <div id="weather">

    </div>

    <script type="text/jsx">
      var Autocomplete = React.createClass({
        getInitialState: function(){
          return { searchString: "" };
        },

        handleClick: function(event){
          event.preventDefault();
          this.setState({ searchString: event.target.textContent })
        },

        handleChange: function(event) {
          event.preventDefault();
          this.setState({ searchString: event.target.value })
        },

        render: function(){
          var names = this.props.names;
          var searchString = this.state.searchString.trim().toLowerCase();

          if (searchString.length > 0){

            names = names.filter(function(name){
                return name.toLowerCase().match( searchString );
            });

          }

          return (
            <div>
              <input type="text"
                     value={this.state.searchString}
                     onChange={this.handleChange} />
              <ul>
                { names.map(function(n) {
                    return <li onClick={this.handleClick} >{n}</li>
                  }.bind(this))
                }
              </ul>
            </div>
          );
        }
      });

      var names = ["Jeff",
                   "Robert",
                   "Jennifer",
                   "Max",
                   "Matt",
                   "Rehan"
                 ];

      React.render( <Autocomplete names={names} />,
        document.getElementById('autocomplete')
      );

      var Clock = React.createClass({
        getInitialState: function() {
          return { time: new Date() };
        },

        componentDidMount: function() {
          this.timer = setInterval(this.tick, 1000);
        },

        render: function() {
          return (
            <div>

            </div>
          )
        }
      });

      // React.render( <Weather/>,
      //   document.getElementById("weather")
      // );
    </script>
  </body>
</html>
